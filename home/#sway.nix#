{ config, pkgs, lib,  ... }:
{
  wayland.windowManager.sway = {
    enable = true;
    wrapperFeatures.gtk = true;
    config = rec {
      modifier = "Mod1";
      gaps = {
        inner = 10;
        outer = 10;
      };
      terminal = "kitty";
      input = {
        "type:keyboard" = {
          xkb_layout = "pl";
	  xkb_variant = "colemak";
	  xkb_options = "ctrl:nocaps";
        };
      };
      KEYBINDINGS = lib.mkOptionDefault {
        "${config.wayland.windowManager.sway.config.modifier}+Return" = "exec ${pkgs.kitty}/bin/kitty";
        "${config.wayland.windowManager.sway.config.modifier}+d" = "exec ${pkgs.fuzzel}/bin/fuzzel";
        "${config.wayland.windowManager.sway.config.modifier}+q" = "kill";
        "${config.wayland.windowManager.sway.config.modifier}+Shift+b" = "exec pkill waybar && waybar";
      };
      output = {
        "eDP-1" = {
          pos = "0 0";
          res = "1920x1080";
        };
        "DP-2" = {
          pos = "1920 0";
          res = "1920x1080";
        };
        "HDMI-A-1" = {
          pos = "3840 0";
          res = "1920x1080@74.973Hz";
        };
      };
      window.border = 3;
      window.titlebar = false;
      startup = [
        {command = "waybar";}

      ];
      bars = [];
    };
  };
}
